@use "../../functions";
@use "../../images" as *;
@use "sass:color";

// Constants
$font-size-subtitle: functions.px(26) !default;
$font-size-small: functions.px(14) !default;
$font-size: functions.px(16) !default;
$font-size-section-subtitle: functions.px(18) !default;
$gap: functions.px(10) !default;
$radius: functions.px(8) !default;
$box-shadow-focus: 0 0 0 functions.px(3) #B4D9F3 !default;

$color__section-banner: #FFFFFF !default;
$color__white: #FFFFFF !default;
$color__button-white: #FFFFFF !default;
$color__search-button: #FFFFFF !default;
$color__card_blue: #FFFFFF !default;
$color__search-control: #52575C !default;
$color__search-link: #52575C !default;
$color__employer-count: #014898 !default;
$background-color__section-search: #FFFFFF !default;
$background-color__section-vacancy: #FFFFFF !default;
$background-color__section-support: #FFFFFF !default;
$background-color__section-employers: #F9F9FA !default;
$background-color__footer-line: #FFFFFF !default;
$background__search: #FFFFFF !default;
$background__owl-dot: #FFFFFF !default;
$background__list-item: #FFFFFF !default;
$background__card_blue: #69B3E7 !default;
$background__search-button: #E64920 !default;
$background__banner: #69B3E7 !default;
$border__search-control: #69B3E7 !default;
$border__search-control-focus: #0E65B7 !default;
$border__button-white: functions.px(1) solid #FFFFFF;
$box-shadow__card: #4BA3E3 !default;
$box-shadow__search: #0E65B7 !default;
$breakpoint-sm: functions.px(576);
$breakpoint-lg: functions.px(992);
$breakpoint-xl: functions.px(1280);
$min-height__card-body: functions.px(190);
$font-size-big: functions.px(34) !default;
$font-size-section-title-lg: $font-size-big;
$color__employer-name: #52575C !default;

.home {
  height: auto;
  margin: $gap * -1.5 $gap * -1 0;
  overflow-x: hidden;

  @media (min-width: $breakpoint-sm) {
    margin: $gap * -1.5 $gap * -1.5 0;
  }

  &__section-search {
    background-color: $background-color__section-search;
    padding-bottom: $gap * 7;
    padding-top: $gap * 3;

    @media (min-width: $breakpoint-lg) {
      background-image: url("home/section-one_bg.svg");
      background-position: left bottom $gap * 2;
      background-repeat: no-repeat;
    }
  }

  &__section-work {
    margin-top: $gap * 3;

    @media (min-width: $breakpoint-lg) {
      margin-top: $gap * 5;
    }
  }

  &__section-vacancy {
    background-color: $background-color__section-vacancy;
    background-image: url("home/advantages_bg.svg");
    background-position: 0 $gap * 2;
    background-repeat: no-repeat;
    box-sizing: border-box;
    min-height: functions.px(560);
    padding: 0 $gap * 3;

    @if (not $images) {
      background-image: none;
    }

    @media (min-width: $breakpoint-lg) {
      padding-bottom: $gap * 6;
      padding-top: $gap * 7;
    }
  }

  &__section-employers {
    background-color: $background-color__section-employers;
    padding: $gap * 3 0;

    @media (min-width: $breakpoint-sm) {
      padding: $gap * 3 0 $gap * 6;
    }

    &-title {

      &:not(:last-child) {
        margin-bottom: $gap * 4;
      }
    }
  }

  &__section-support {
    background-color: $background-color__section-support;
    padding: $gap * 5 0;

    @media (min-width: $breakpoint-sm) {
      padding: $gap * 9 0 $gap * 8;
    }
  }

  &__section-banner {
    color: $color__section-banner;
    margin: 0;
    padding: $gap * 6 0 0;

    &-title {
      font-size: $font-size-big;
      font-weight: 600;
      margin-bottom: $gap * 3;
    }

    p {
      max-width: $gap * 55;
    }
  }

  &__section-polls {
    padding-bottom: $gap * 5;
    padding-top: $gap * 5;

    @media (min-width: $breakpoint-lg) {
      padding-bottom: $gap * 8;
      padding-top: $gap * 8;
    }
  }

  &__section-resume {
    padding: $gap * 5 0;
  }

  &__section-popular {
    padding-top: $gap * 8.3;
  }

  &__section-advantages {
    background-image: url("home/advantages_bg.svg");
    background-position: 0 $gap * 2;
    background-repeat: no-repeat;
    box-sizing: border-box;
    min-height: functions.px(560);
    padding-top: $gap * 3;

    @if (not $images) {
      background-image: none;
    }

    @media (min-width: $breakpoint-lg) {
      padding-top: $gap * 7;
    }
  }

  &__section-title {
    font-size: $font-size-subtitle;
    font-weight: 600;
    letter-spacing: functions.px(0.2);
    line-height: $gap * 3;
    margin-bottom: $gap * 3;
    text-align: center;

    @media (min-width: $breakpoint-sm) {
      font-size: $font-size-subtitle;
    }

    @media (min-width: $breakpoint-lg) {
      font-size: $font-size-section-title-lg;
      margin-bottom: $gap * 5;
    }

    &_left {
      text-align: left;
    }
  }

  &__white {
    color: $color__white;
  }

  &__button-white {
    background-color: transparent;
    border: $border__button-white;
    color: $color__button-white;

    &:hover {
      background-color: transparent;
    }
  }

  &__logo-img {
    height: functions.px(65);
    width: functions.px(170);
  }

  &__mobile-img {
    height: functions.px(45);
    width: functions.px(153);
  }

  &__search {
    background: $background__search;
    border-radius: $radius;
    box-shadow: 0 functions.px(10) functions.px(40) rgba($box-shadow__search, 0.2);
    box-sizing: border-box;
    display: flex;
    flex-flow: row wrap;
    margin-bottom: $gap * 3;
    position: relative;

    @media (min-width: $breakpoint-sm) {
      flex-flow: row nowrap;
    }

    @media (max-width: $breakpoint-sm) {
      background: transparent;
      box-shadow: none;
    }

    &-control {
      background: $background__search;
      border: functions.px(1) solid $border__search-control;
      border-radius: $radius;
      border-right: none;
      box-sizing: border-box;
      color: $color__search-control;
      flex-basis: auto;
      flex-grow: 1;
      font-weight: 500;
      height: $gap * 4;
      line-height: 1.5;
      margin-bottom: $gap * 2;
      min-height: functions.px(38);
      padding: 0 $gap * 3;

      &:hover:not(:disabled),
      &:focus,
      &:focus-visible {
        border-color: color.adjust(
          $border__search-control-focus,
          $hue: -3deg,
          $saturation: -10%,
          $lightness: 10%
        );
      }

      &:focus {
        caret-color: color.adjust(
          $border__search-control-focus,
          $hue: -3deg,
          $saturation: -10%,
          $lightness: 10%
        );
        outline: none;
      }

      @media (min-width: $breakpoint-sm) {
        border-radius: $radius 0 0 $radius;
        margin-bottom: 0;
        padding: 0 $gap * 6.5 0 $gap * 3;
      }

      @media (max-width: $breakpoint-sm) {
        box-shadow: 0 functions.px(10) functions.px(40) rgba($box-shadow__search, 0.2);
        width: 100%;
      }
    }

    &-close {
      align-items: center;
      display: flex;
      justify-content: center;
      position: absolute;
      right: $gap;
      top: $gap * 0.8;
      z-index: 2;

      @media (min-width: $breakpoint-sm) {
        right: $gap * 9;
        top: 50%;
        transform: translateY(-50%);
      }
    }

    &-close-icon {
      height: $gap * 2;
      min-width: $gap * 2;
      width: $gap * 2;
    }

    &-button {
      background: $background__search-button;
      border: 0;
      border-radius: $radius;
      color: $color__search-button;
      height: auto;
      padding: 0 $gap * 2;
      width: 100%;

      &:hover {
        background-color: $background__search-button;
        color: $color__search-button;
        opacity: 0.9;
      }

      &:focus {
        box-shadow: $box-shadow-focus;
        outline: none;
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }

      &:focus-visible {
        box-shadow: $box-shadow-focus;
      }

      @media (min-width: $breakpoint-sm) {
        border-radius: 0 $radius $radius 0;
        width: auto;
      }
    }

    &-link {
      color: $color__search-link;
      font-size: $font-size-small;
      line-height: 1.286;
      margin-right: $gap;

      &:hover {
        text-decoration: none;
      }

      &:focus {
        box-shadow: $box-shadow-focus;
        outline: none;
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }

      &:focus-visible {
        box-shadow: $box-shadow-focus;
      }
    }
  }

  &__employer {
    align-items: center;
    display: flex;
    flex-direction: column;
  }

  &__employer-def {
    display: none;
  }

  &__employer-logo {
    align-items: center;
    display: flex;
    height: functions.px(70);
    justify-content: center;
    margin-bottom: $gap * 2;

    &:focus {
      box-shadow: $box-shadow-focus;
      outline: none;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    &:focus-visible {
      box-shadow: $box-shadow-focus;
    }
  }

  &__employer-name {
    color: $color__employer-name;
    font-size: $font-size;
    font-weight: 500;
    letter-spacing: functions.px(0.1);
    line-height: 1.5;
    text-align: center;
  }

  &__employer-count {
    color: $color__employer-count;
    font-size: $font-size;
    letter-spacing: functions.px(0.1);
    line-height: 1.5;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }

    &:focus {
      box-shadow: $box-shadow-focus;
      outline: none;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    &:focus-visible {
      box-shadow: $box-shadow-focus;
    }
  }

  &__card {
    border-radius: $radius;
    box-shadow: 0 functions.px(10) functions.px(40) rgba($box-shadow__card, 0.2);
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    height: 100%;
    margin-left: 0;
    margin-right: 0;
    overflow: hidden;
    padding: $gap * 3 $gap * 1.5;
    position: relative;

    @media (min-width: $breakpoint-sm) {
      padding: $gap * 3;
    }

    &_blue {
      background: $background__card_blue;
      border: none;
      color: $color__card_blue;
    }

    &_slider {
      @media (min-width: $breakpoint-sm) {
        box-shadow: none;
        padding: 0;
      }
    }
  }

  &__card-image {
    display: none;

    @media (min-width: $breakpoint-sm) {
      bottom: functions.px(40);
      box-shadow: none;
      display: block;
      padding: 0;
      position: absolute;
      right: functions.px(40);
    }
  }

  &__card-content {
    padding-right: $gap * 7;
  }

  &__card-body {
    flex: 1 0 auto;
    min-height: $min-height__card-body;
  }

  &__card-footer {
    flex: 0 0 auto;
    margin-top: $gap * 2;
  }

  &__card-small {
    padding: $gap * 1.3 $gap * 3;
  }

  &__card-slider {
    display: none;

    @media (min-width: $breakpoint-sm) {
      align-items: flex-end;
      display: flex;
      height: 80%;
      justify-content: center;
      position: absolute;
      right: 0;
      top: 0;
      width: 20%;
    }
  }

  &__banner {
    background: $background__banner;
    border-radius: 0;
    margin: 0;
    padding: functions.px(15) 0;

    @media (min-width: $breakpoint-sm) {
      background: $background__banner;
      padding: functions.px(50) 0;
    }

    @media (min-width: $breakpoint-xl) {
      padding: functions.px(70) 0;
    }

    & .owl-loaded {
      margin-top: $gap * 4;
    }

    & .owl-dots {
      top: $gap * -4;
    }

    & .owl-dot {
      background: $background__owl-dot;
    }
  }

  &__advantages-content {
    @media (min-width: $breakpoint-lg) {
      padding-left: $gap * 3;
    }
  }

  &__advantages-list {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  &__advantages-item {
    background-image: url("home/advantages-li.svg");
    background-position: left center;
    background-repeat: no-repeat;
    font-size: $font-size-section-subtitle;
    letter-spacing: functions.px(0.2);
    margin-bottom: $gap;
    padding-left: $gap * 3.5;

    @if (not $images) {
      background-image: none;
    }
  }

  &__list-item {

    &:not(:last-child) {
      margin-bottom: $gap * 2;
    }

    &::before {
      background: no-repeat left center
        functions.inlineSVG(
          "<svg width='12' height='15' viewBox='0 0 12 15' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M0 0.667964V14.332C0 14.8545 0.539144 15.1712 0.958489 14.902L11.6967 8.07791C12.1011 7.80875 12.1011 7.19125 11.6967 6.92209L0.958489 0.0979681C0.539144 -0.171197 0 0.145468 0 0.667964Z' fill='" +
          $background__list-item + " ' /></svg>"
        );
      content: "";
      float: left;
      margin-right: $gap * 2;
    }
  }

  &__footer-line {
    background-color: $background-color__footer-line;
    height: functions.px(1);
    margin: 0 functions.px(-15);
    width: calc(100% + #{$gap * 3});

    @media (min-width: $breakpoint-lg) {
      height: 100%;
      margin: 0 auto;
      width: functions.px(1);
    }
  }

  &__images-social {
    border-radius: 0;
  }
}
